/* *  Jogo da Glória (projecto para Interacção Homem-Máquina) *  Copyright (C) 2013  Helder Correia * *  This program is free software; you can redistribute it and/or modify *  it under the terms of the GNU General Public License as published by *  the Free Software Foundation; either version 2 of the License, or *  (at your option) any later version. * *  This program is distributed in the hope that it will be useful, *  but WITHOUT ANY WARRANTY; without even the implied warranty of *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the *  GNU General Public License for more details. * *  You should have received a copy of the GNU General Public License along *  with this program; if not, write to the Free Software Foundation, Inc., *  51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA. */package org.siriux {	import flash.display.MovieClip;	import flash.events.MouseEvent;	import flash.events.Event;	public class Card extends MovieClip {		public static const ANSWERED = "Player answerd";		private var _answer:int;		private var _choice:int;		public function Card(question:XML) {			question_txt.text = question.@text;			_answer = int(question.@answer);			for (var i:int = 0; i < 3; i++) {				var prop:String = "answer" + String(i+1);				this[prop].txt.text = question.option[i];				this[prop].txt.mouseEnabled = false;				this[prop].btn.addEventListener(MouseEvent.MOUSE_UP, answerHandler(i+1));			}		}		private function answerHandler(answer:int):Function {			return function(evt:MouseEvent) {				_choice = answer;				dispatchEvent(new Event(ANSWERED));			}		}		public function correct():Boolean {			return _answer == _choice;		}	}}